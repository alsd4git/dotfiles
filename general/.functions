# ===== File and Media Utilities =====
function ren_pics() {
    # Rename all images in current folder using folder name and EXIF date
    cur_dir=$(basename "$PWD")
    if ! command -v exiv2 >/dev/null 2>&1; then
        echo "exiv2 not found. Please install exiv2 to use ren_pics."
        return 1
    fi
    shopt -s nullglob 2>/dev/null || true
    exiv2 -r"$cur_dir"' - %Y-%m-%d %H.%M.%S' -F rename *.jpg *.jpeg *.JPG *.JPEG *.png *.PNG *.heic *.HEIC 2>/dev/null || true
}

# ===== Alias Helpers =====
function nice_print_aliases() {
    #TODO: restore coloring, sorting and spacing, this needs to be valid on bash/zsh - MacOS/Debian
    alias |
    while IFS='=' read -r name value; do
        # Remove leading 'alias ' and surrounding quotes
        name=${name#alias }
        value=${value#\'}
        value=${value%\'}
        printf "%s\t\t%s\n" "$name" "$value"
    done
}
# export -f nice_print_aliases  # Usually unnecessary unless using in subshells

# ===== Nano Backup Wrappers =====
function nanobk() {
    echo "You are making a copy of \"$1\" before you open it. Press enter to continue."
    read nul
    cp "$1" "$1.bak"
    nano "$1"
}

function nbk() {
    nanobk "$1"
}

# ===== Notes and Future Enhancements =====
# A useful cheatsheet online: https://devhints.io/bash
# Use 'export' if you want functions to be available in subshells
